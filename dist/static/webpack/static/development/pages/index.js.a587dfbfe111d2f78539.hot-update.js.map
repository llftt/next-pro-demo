{"version":3,"file":"static/webpack/static/development/pages/index.js.a587dfbfe111d2f78539.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React from 'react'\nimport {Index as IndexComp} from '@components/Index'\nimport Title from '@components/common/Title'\n/**Link, */\nimport Link  from 'next/link'\nimport Router from 'next/router'\nimport {stringify} from '@utils/index'\nimport axios from 'axios'\n\nimport {Button} from 'antd'\nimport JsonDiff from '@components/test/Diff'\n// import Head from 'next/head'\n\nimport '@static/styles/common.less'\n\nexport default class Index extends React.Component<{data:any}>{\n    //拓展\n    static async getInitialProps(){\n        \n        // throw new Error('fakeErr') 获取数据失败，展示默认错误页面\n        let res = await axios.get('http://localhost:3001/api/test')\n        console.log('res:',res.data)\n        return {\n            data: res.data\n        }\n    }\n\n\n    componentDidMount(){\n        Router.events.on('', (url:string) => {\n            console.log(`App is changing to:`, url)\n        })\n\n        Router.events.on('',(url:string) =>{\n            console.log('App change complete:', url)\n        })\n\n        Router.events.on('', (err:any, url:string) => {\n            if (err.cancelled) {\n              console.log(`Route to ${url} was cancelled!`)\n            }\n        })\n\n        Router.beforePopState(({ url }:{url:string}) => {\n            console.log('beforePopState:', url)\n            return true\n          });\n    }\n\n    onBtnClick = ()=>{\n        console.log('click')\n    }\n    render(){\n            \n        return (<div>\n                <Title />\n                <pre>InitialProps: {stringify(this.props.data)}</pre>\n                <Link href=\"/about\">\n                    <a title=\"about page\">click,link router</a>\n                </Link>\n                <br/>\n              \n                <Link href={{pathname:'/about', query:{name:'test'}}} replace>\n                    <a>click,link router with params</a>\n                </Link>\n                <div>\n                    Router API <button onClick={()=> Router.push('/category', '/category/1', {gametype:'1'}) }>click, API</button>\n                </div>\n                <IndexComp />\n                <img src={require(\"@images/cat.jpg\")} />\n                \n                <Button onClick={this.onBtnClick}>Antd button</Button>\n                <div className=\"common\" />\n\n                <JsonDiff oldJson={{workflows:[{foo:'abc'}]}} newJson={{workflows:[{foo:'abz', test:'aa'}]}} />\n            </div>)\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;;;;;;AAxBA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AAKA;AAEA;AAGA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;AA5DA;;;;;;;;;;;AAIA;AACA;;AADA;AACA;AACA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AARA;AACA;;;;;A","sourceRoot":""}