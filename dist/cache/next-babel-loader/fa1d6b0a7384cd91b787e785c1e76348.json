{"ast":null,"code":"import _Button from \"antd/lib/button\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Index as IndexComp } from '@components/Index';\nimport Title from '@components/common/Title';\n/**Link, */\n\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { stringify } from '@utils/index';\nimport axios from 'axios';\nimport JsonDiff from '@components/test/Diff'; // import Head from 'next/head'\n\nimport '@static/styles/common.less';\nexport default class Index extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onBtnClick\", () => {\n      console.log('click');\n    });\n  }\n\n  //拓展\n  static async getInitialProps() {\n    // throw new Error('fakeErr') 获取数据失败，展示默认错误页面\n    let res = await axios.get('http://localhost:3001/api/test');\n    console.log('res:', res.data);\n    return {\n      data: res.data\n    };\n  }\n\n  componentDidMount() {\n    Router.events.on('', url => {\n      console.log(`App is changing to:`, url);\n    });\n    Router.events.on('', url => {\n      console.log('App change complete:', url);\n    });\n    Router.events.on('', (err, url) => {\n      if (err.cancelled) {\n        console.log(`Route to ${url} was cancelled!`);\n      }\n    });\n    Router.beforePopState(({\n      url\n    }) => {\n      console.log('beforePopState:', url);\n      return true;\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(Title, null), __jsx(\"pre\", null, \"InitialProps: \", stringify(this.props.data)), __jsx(Link, {\n      href: \"/about\"\n    }, __jsx(\"a\", {\n      title: \"about page\"\n    }, \"click,link router\")), __jsx(\"br\", null), __jsx(Link, {\n      href: {\n        pathname: '/about',\n        query: {\n          name: 'test'\n        }\n      },\n      replace: true\n    }, __jsx(\"a\", null, \"click,link router with params\")), __jsx(\"div\", null, \"Router API \", __jsx(\"button\", {\n      onClick: () => Router.push('/category', '/category/1', {\n        gametype: '1'\n      })\n    }, \"click, API\")), __jsx(IndexComp, null), __jsx(\"img\", {\n      src: require(\"@images/cat.jpg\")\n    }), __jsx(_Button, {\n      onClick: this.onBtnClick\n    }, \"Antd button\"), __jsx(\"div\", {\n      className: \"common\"\n    }), __jsx(JsonDiff, {\n      oldJson: {\n        foo: 'bar'\n      },\n      newJson: {\n        foo: 'baz',\n        test: 'a'\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/lixiangfei/code/node-next-test/pages/index.tsx"],"names":["React","Index","IndexComp","Title","Link","Router","stringify","axios","JsonDiff","Component","console","log","getInitialProps","res","get","data","componentDidMount","events","on","url","err","cancelled","beforePopState","render","props","pathname","query","name","push","gametype","require","onBtnClick","foo","test"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Index as IndexComp} from '@components/Index'\nimport Title from '@components/common/Title'\n/**Link, */\nimport Link  from 'next/link'\nimport Router from 'next/router'\nimport {stringify} from '@utils/index'\nimport axios from 'axios'\n\nimport {Button} from 'antd'\nimport JsonDiff from '@components/test/Diff'\n// import Head from 'next/head'\n\nimport '@static/styles/common.less'\n\nexport default class Index extends React.Component<{data:any}>{\n    //拓展\n    static async getInitialProps(){\n        \n        // throw new Error('fakeErr') 获取数据失败，展示默认错误页面\n        let res = await axios.get('http://localhost:3001/api/test')\n        console.log('res:',res.data)\n        return {\n            data: res.data\n        }\n    }\n\n\n    componentDidMount(){\n        Router.events.on('', (url:string) => {\n            console.log(`App is changing to:`, url)\n        })\n\n        Router.events.on('',(url:string) =>{\n            console.log('App change complete:', url)\n        })\n\n        Router.events.on('', (err:any, url:string) => {\n            if (err.cancelled) {\n              console.log(`Route to ${url} was cancelled!`)\n            }\n        })\n\n        Router.beforePopState(({ url }:{url:string}) => {\n            console.log('beforePopState:', url)\n            return true\n          });\n    }\n\n    onBtnClick = ()=>{\n        console.log('click')\n    }\n    render(){\n            \n        return (<div>\n                <Title />\n                <pre>InitialProps: {stringify(this.props.data)}</pre>\n                <Link href=\"/about\">\n                    <a title=\"about page\">click,link router</a>\n                </Link>\n                <br/>\n              \n                <Link href={{pathname:'/about', query:{name:'test'}}} replace>\n                    <a>click,link router with params</a>\n                </Link>\n                <div>\n                    Router API <button onClick={()=> Router.push('/category', '/category/1', {gametype:'1'}) }>click, API</button>\n                </div>\n                <IndexComp />\n                <img src={require(\"@images/cat.jpg\")} />\n                \n                <Button onClick={this.onBtnClick}>Antd button</Button>\n                <div className=\"common\" />\n\n                <JsonDiff oldJson={{ foo: 'bar' }} newJson={{ foo: 'baz', test:'a' }} />\n            </div>)\n    }\n}"]},"metadata":{},"sourceType":"module"}